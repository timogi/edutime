---
alwaysApply: true
description: "Always use i18n for all user-facing text. Never hardcode strings that users will see. Use useTranslation hook and t() function for all text. Follow the established translation key structure with nested objects."
---

# i18n Rules for EduTime Native

## üö´ Never Do This
```typescript
// ‚ùå Hardcoded strings
<Text>Welcome to EduTime</Text>
<Button title="Save" />
<Text>Error loading data</Text>

// ‚ùå Mixed languages
<Text>Willkommen bei EduTime</Text> // German hardcoded
<Text>Welcome to EduTime</Text>     // English hardcoded
```

## ‚úÖ Always Do This
```typescript
// ‚úÖ Use i18n for all user-facing text
import { useTranslation } from "react-i18next";

const { t } = useTranslation();

<Text>{t("Index.welcome")}</Text>
<Button title={t("Index.save")} />
<Text>{t("Index.error-loading-data")}</Text>
```

## üìÅ Files to Always Touch for i18n

### 1. **Translation Files** (Required for every new text)
- `lib/i18n/locales/de.json` - German translations
- `lib/i18n/locales/en.json` - English translations  
- `lib/i18n/locales/fr.json` - French translations

### 2. **Component Files** (When adding new UI text)
- `app/**/*.tsx` - All app screens
- `components/**/*.tsx` - All components
- `components/RecordForm/**/*.tsx` - Form components
- `components/settings/**/*.tsx` - Settings components

## üèóÔ∏è Translation Key Structure

### Follow this nested structure:
```json
{
  "Index": {
    "welcome": "Welcome to EduTime",
    "save": "Save",
    "cancel": "Cancel"
  },
  "Settings": {
    "profile": "Profile",
    "notifications": "Notifications"
  },
  "Errors": {
    "network": "Network error",
    "validation": "Validation error"
  }
}
```

### Key Naming Conventions:
- Use **PascalCase** for main sections: `Index`, `Settings`, `Errors`
- Use **camelCase** for keys: `createEntry`, `errorLoading`, `saveAndContinue`
- Use **kebab-case** for complex keys: `error-loading-records`, `no-records-for-this-date`

## üîß Implementation Pattern

### 1. **Import Pattern**
```typescript
import { useTranslation } from "react-i18next";

export default function MyComponent() {
  const { t } = useTranslation();
  // ... rest of component
}
```

### 2. **Usage Pattern**
```typescript
// Simple text
<Text>{t("Index.welcome")}</Text>

// With fallback
<Text>{t("Index.welcome", "Welcome")}</Text>

// With interpolation
<Text>{t("Index.welcomeUser", { name: "John" })}</Text>
```

### 3. **Translation File Updates**
When adding new text, update ALL three language files:

**de.json:**
```json
{
  "Index": {
    "newFeature": "Neue Funktion"
  }
}
```

**en.json:**
```json
{
  "Index": {
    "newFeature": "New Feature"
  }
}
```

**fr.json:**
```json
{
  "Index": {
    "newFeature": "Nouvelle Fonctionnalit√©"
  }
}
```

## üéØ Common Translation Keys

### Already established patterns in your codebase:
- `Index.*` - Main app interface
- `Settings.*` - Settings screen
- `Errors.*` - Error messages
- `Auth.*` - Authentication

### Examples from your existing code:
```typescript
t("Index.timeTracking")     // "Time tracking"
t("Index.createEntry")      // "Create entry"
t("Index.settings")          // "Settings"
t("Index.loading")           // "Loading..."
t("Index.error-loading-records") // "Error loading records"
t("Categories.subcategory") // "Subcategory" / "Unterkategorie" / "Sous-cat√©gorie"
```

## ‚ö†Ô∏è Critical Rules

1. **Never hardcode user-facing strings** - Always use `t()` function
2. **Update all 3 language files** - de.json, en.json, fr.json
3. **Follow existing key structure** - Use established patterns
4. **Test all languages** - Ensure translations work in German, English, French
5. **Use descriptive keys** - `error.loading.records` not `error1`
6. **Use English for keys** - Keys should be in English like `Index.welcome` not `Index.willkommen`

## üîç Files That Need i18n Attention

Based on your codebase, these files commonly need i18n updates:
- `app/(app)/index.tsx` - Main timesheet screen
- `app/(app)/settings.tsx` - Settings screen
- `app/(auth)/login.tsx` - Login screen
- `components/RecordForm/RecordForm.tsx` - Record form
- `components/StopWatchButton.tsx` - Timer button
- `components/RecordList.tsx` - Record list
- `components/settings/*.tsx` - All settings components

## üöÄ Quick Checklist

When adding new text:
- [ ] Import `useTranslation` hook
- [ ] Use `t()` function for all user-facing text
- [ ] Add key to `de.json`
- [ ] Add key to `en.json` 
- [ ] Add key to `fr.json`
- [ ] Follow existing key naming patterns
- [ ] Test in all three languages